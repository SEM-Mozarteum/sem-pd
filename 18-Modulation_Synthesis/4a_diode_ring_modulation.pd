#N canvas 0 38 959 874 12;
#X declare -path abs;
#X obj 61 139 osc~;
#X obj 62 344 *~;
#X obj 265 166 osc~;
#X obj 118 316 expr~ tanh($v1), f 9;
#X floatatom 61 110 5 0 0 0 - - - 0;
#X floatatom 265 135 5 0 0 0 - - - 0;
#X msg 61 67 250;
#X msg 101 67 100;
#X msg 265 92 120;
#X msg 299 92 400;
#X msg 334 92 378;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-sidebands 100 float 0;
#X coords 0 2000 100 -40 200 130 1;
#X restore 654 536 graph;
#X text 860 644 0;
#X text 858 523 1;
#X text 859 582 0.5;
#X text 745 668 500 Hz;
#X text 649 667 0 Hz;
#X text 837 665 1000 Hz;
#N canvas 45 83 566 577 fft 0;
#X obj 19 61 inlet~;
#X obj 95 214 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal with a (rectangular windowed) FFT. FFTs aren't properly introduced until much later.;
#X text 83 61 signal to analyze;
#X text 192 166 delay two samples;
#X text 191 182 for better graphing;
#X obj 16 425 samplerate~;
#X obj 16 402 bng 18 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000 #000000;
#X floatatom 16 472 5 0 0 0 - - - 0;
#X obj 16 448 / 256;
#X obj 16 378 loadbang;
#X floatatom 16 541 5 0 0 0 - - - 0;
#X obj 24 494 s fundamental;
#X obj 16 517 ftom;
#X text 14 319 At load time \, calculate a good choice of fundamental frequency for showing spectra: the 16th bin in a 4096-point spectrum \, so SR*16/4096 or SR/256.;
#X text 145 216 "bang" into this inlet to graph it;
#X floatatom 191 480 5 0 0 0 - - - 0;
#X obj 191 456 / 4096;
#X text 187 425 One bin is SR/4096:;
#X text 72 540 <-just out of curiosity \, here's the fundamental pitch;
#X obj 191 502 s freq-step;
#X obj 95 248 tabwrite~ \$0-sidebands;
#X obj 20 281 tabwrite~ \$0-sidebands;
#X connect 0 0 2 0;
#X connect 0 0 31 0;
#X connect 1 0 30 0;
#X connect 1 0 31 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 30 0;
#X connect 15 0 18 0;
#X connect 15 0 26 0;
#X connect 16 0 15 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 20 0;
#X connect 25 0 29 0;
#X connect 26 0 25 0;
#X restore 158 576 pd fft;
#X obj 203 549 metro 200;
#X obj 203 526 tgl 15 0 empty toggle empty 0 -6 0 8 #fcfcfc #000000 #000000 0 1;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-wavetable 1027 float 1;
#A 0 0.294945 0.319788 0.343838 0.366971 0.389057 0.41003 0.429825 0.448387 0.465703 0.481751 0.496535 0.510042 0.52231 0.533334 0.543138 0.551743 0.559174 0.565435 0.570553 0.57455 0.577419 0.579188 0.579846 0.579414 0.577865 0.575218 0.571456 0.566556 0.560519 0.553322 0.544946 0.535361 0.524571 0.512531 0.499239 0.484676 0.468846 0.451731 0.433357 0.41375 0.392934 0.370984 0.347967 0.323998 0.299193 0.27373 0.247789 0.221594 0.195404 0.169501 0.144194 0.119815 0.0967168 0.0752434 0.0557507 0.0385715 0.0240168 0.0123574 0.00381921 -0.00143037 -0.00328731 -0.00171602 0.00324947 0.011507 0.0228898 0.0371767 0.054096 0.0733411 0.0945795 0.117466 0.141644 0.166773 0.192527 0.218584 0.244673 0.27053 0.295941 0.3207 0.344659 0.367681 0.389649 0.410497 0.430158 0.448589 0.465757 0.481668 0.496295 0.509658 0.521764 0.532632 0.542266 0.550697 0.557949 0.564014 0.568937 0.572711 0.57536 0.576877 0.577284 0.576568 0.574726 0.571759 0.567654 0.562392 0.555957 0.548349 0.539515 0.529462 0.518158 0.505589 0.49173 0.476581 0.460137 0.442385 0.423365 0.403089 0.381613 0.358991 0.335332 0.310731 0.285339 0.259329 0.232904 0.206296 0.179771 0.15363 0.128178 0.103764 0.0807298 0.0594287 0.040203 0.0233808 0.00925846 -0.00190641 -0.00990508 -0.0145866 -0.0158635 -0.0137146 -0.00818784 0.000605178 0.0124909 0.0272427 0.0445895 0.0642243 0.0858181 0.10903 0.133507 0.158919 0.184932 0.211245 0.237571 0.263669 0.289306 0.31429 0.338468 0.361698 0.383873 0.404907 0.424753 0.443339 0.460662 0.476695 0.491436 0.504882 0.51705 0.527955 0.537596 0.546012 0.553206 0.559197 0.563995 0.567628 0.570085 0.571382 0.571525 0.570506 0.568321 0.56496 0.560428 0.554674 0.547717 0.539518 0.530063 0.519326 0.507296 0.49395 0.479267 0.463257 0.445904 0.427227 0.407238 0.385998 0.363538 0.339955 0.315349 0.289845 0.263604 0.236815 0.209702 0.182502 0.155509 0.129017 0.103354 0.0788574 0.0558771 0.034754 0.0158216 -0.000608762 -0.0142586 -0.0248903 -0.0323156 -0.0364051 -0.0370858 -0.0343548 -0.0282688 -0.0189467 -0.00656427 0.00865279 0.0264378 0.0464897 0.0684892 0.0920985 0.116979 0.142797 0.169237 0.195985 0.222769 0.249337 0.275458 0.300939 0.325611 0.349345 0.372004 0.393524 0.413826 0.432857 0.450587 0.467002 0.482086 0.495834 0.508268 0.519381 0.529197 0.537722 0.544989 0.550985 0.555746 0.559277 0.561576 0.562657 0.562517 0.561161 0.55856 0.554733 0.549648 0.543291 0.535647 0.526702 0.516424 0.504797 0.491812 0.47744 0.461684 0.44453 0.426006 0.406103 0.384883 0.362387 0.338687 0.313883 0.288097 0.261481 0.234203 0.20649 0.178563 0.150698 0.123182 0.0963321 0.0704707 0.0459383 0.0230729 0.00220385 -0.0163537 -0.0323108 -0.0454145 -0.055449 -0.0622552 -0.0657218 -0.0657963 -0.0624876 -0.0558618 -0.0460394 -0.0331932 -0.0175438 0.000653304 0.0211096 0.0435153 0.0675489 0.0928783 0.119182 0.146145 0.173461 0.200856 0.228071 0.254878 0.281064 0.30647 0.330936 0.354339 0.376584 0.397597 0.417309 0.435685 0.452707 0.46834 0.482595 0.495461 0.506959 0.517077 0.525848 0.53328 0.539371 0.544147 0.547613 0.549773 0.550621 0.550178 0.548415 0.545338 0.540931 0.535189 0.528077 0.519591 0.509716 0.498414 0.485688 0.471509 0.455884 0.438789 0.420257 0.400292 0.378931 0.35623 0.332259 0.307112 0.280904 0.253794 0.225938 0.197553 0.168861 0.140125 0.111621 0.0836534 0.0565386 0.0305991 0.00616563 -0.0164406 -0.0369105 -0.0549534 -0.0703131 -0.0827619 -0.092118 -0.0982456 -0.10106 -0.100522 -0.0966532 -0.0895271 -0.0792566 -0.0660131 -0.0500001 -0.0314612 -0.010665 0.0120949 0.036513 0.0622739 0.0890655 0.116579 0.144517 0.172596 0.200565 0.228176 0.255222 0.281517 0.306901 0.33123 0.354399 0.376323 0.396914 0.416138 0.433946 0.450321 0.465237 0.478706 0.490717 0.501271 0.510387 0.51807 0.524321 0.529151 0.532583 0.534589 0.535196 0.534388 0.532168 0.528514 0.523427 0.516892 0.508875 0.499384 0.488384 0.475872 0.461821 0.446246 0.42913 0.41049 0.39035 0.368746 0.345729 0.321374 0.295788 0.269069 0.241387 0.212899 0.183815 0.154355 0.124775 0.0953462 0.0663581 0.0381191 0.0109396 -0.0148651 -0.0389845 -0.0611224 -0.0809953 -0.0983506 -0.112962 -0.12464 -0.133231 -0.138629 -0.140773 -0.139634 -0.135251 -0.127687 -0.117059 -0.103517 -0.0872558 -0.0684925 -0.0474756 -0.0244763 0.000221492 0.0263222 0.053526 0.081538 0.110062 0.138824 0.167559 0.196022 0.223989 0.251264 0.277672 0.303048 0.327282 0.350256 0.371884 0.392098 0.410858 0.428112 0.443841 0.458036 0.470681 0.481773 0.491316 0.499326 0.505775 0.5107 0.514088 0.515943 0.516259 0.515041 0.512276 0.507948 0.502061 0.494588 0.485522 0.474839 0.462549 0.448619 0.433064 0.415885 0.397095 0.376723 0.35481 0.331425 0.306628 0.280543 0.25328 0.224997 0.195867 0.166096 0.135905 0.105544 0.0752834 0.0454023 0.016197 -0.0120333 -0.0389892 -0.0643739 -0.0879079 -0.109324 -0.128378 -0.144853 -0.158562 -0.169354 -0.177101 -0.181735 -0.183201 -0.181497 -0.176653 -0.168744 -0.157865 -0.144157 -0.12779 -0.108957 -0.0878815 -0.0648053 -0.0399902 -0.0137049 0.0137677 0.0421459 0.0711474 0.100498 0.129934 0.159204 0.188073 0.216335 0.243791 0.270271 0.295627 0.319743 0.342495 0.363811 0.383623 0.401868 0.418514 0.433531 0.446906 0.458606 0.468651 0.477021 0.483713 0.488731 0.49208 0.493745 0.493726 0.492027 0.488624 0.483522 0.476696 0.468159 0.457871 0.445852 0.43209 0.416585 0.399354 0.380418 0.359816 0.337585 0.313817 0.288579 0.261994 0.23419 0.205332 0.175595 0.145189 0.114345 0.0833037 0.0523349 0.0217121 -0.00827922 -0.0373521 -0.0652233 -0.0916149 -0.116262 -0.138917 -0.159355 -0.177373 -0.192789 -0.205467 -0.215275 -0.222134 -0.225982 -0.226801 -0.224579 -0.219362 -0.211212 -0.200212 -0.186487 -0.170179 -0.151459 -0.130513 -0.107562 -0.0828313 -0.0565667 -0.0290265 -0.00047438 0.0288225 0.0585968 0.0885886 0.118541 0.148216 0.177385 0.205845 0.233397 0.259882 0.285151 0.309066 0.33153 0.352451 0.371756 0.389378 0.405291 0.419443 0.431815 0.44239 0.45116 0.458097 0.463209 0.466493 0.467924 0.467514 0.465243 0.461119 0.455112 0.44724 0.437487 0.425849 0.41234 0.396967 0.379752 0.36072 0.339935 0.317435 0.29332 0.26768 0.240647 0.212356 0.182983 0.15272 0.121773 0.0903829 0.0587928 0.027268 -0.00392262 -0.0345033 -0.0641995 -0.0927426 -0.119874 -0.14535 -0.16894 -0.190439 -0.209668 -0.226454 -0.240676 -0.252212 -0.260986 -0.266926 -0.270008 -0.270214 -0.267545 -0.262046 -0.253766 -0.242781 -0.229184 -0.213108 -0.194679 -0.174066 -0.151449 -0.127028 -0.101014 -0.0736407 -0.0451499 -0.015788 0.0141885 0.044525 0.0749696 0.105274 0.135207 0.164543 0.193071 0.220607 0.246979 0.272028 0.295625 0.317666 0.338034 0.356665 0.373487 0.388452 0.401507 0.412631 0.4218 0.428973 0.434158 0.437329 0.438481 0.437595 0.434682 0.429721 0.422715 0.413669 0.402587 0.389477 0.374362 0.357286 0.338268 0.317392 0.294718 0.270351 0.244399 0.217006 0.18833 0.158547 0.127869 0.0965111 0.0647152 0.0327301 0.000819916 -0.0307509 -0.0617162 -0.0918135 -0.12079 -0.148404 -0.174431 -0.19867 -0.220922 -0.24104 -0.258869 -0.274298 -0.287221 -0.297573 -0.305289 -0.310328 -0.31268 -0.312334 -0.309302 -0.303612 -0.295321 -0.284471 -0.271154 -0.255461 -0.237505 -0.217413 -0.195338 -0.171449 -0.14592 -0.118962 -0.0907859 -0.0616186 -0.031698 -0.00126866 0.0294237 0.0601323 0.0906163 0.12064 0.149979 0.178424 0.205786 0.231872 0.256537 0.279635 0.30104 0.320646 0.338368 0.354128 0.367855 0.379513 0.389052 0.396437 0.401641 0.404658 0.405451 0.404026 0.400373 0.394489 0.386381 0.376061 0.36356 0.348886 0.33211 0.313271 0.292453 0.269743 0.24526 0.219131 0.191512 0.162583 0.132535 0.101588 0.0699706 0.0379327 0.00572572 -0.0263874 -0.0581455 -0.0892905 -0.119572 -0.148752 -0.17661 -0.202932 -0.227546 -0.250275 -0.270984 -0.289544 -0.305865 -0.319851 -0.331444 -0.340599 -0.347275 -0.351455 -0.353127 -0.352307 -0.348982 -0.343202 -0.334991 -0.324395 -0.311473 -0.296302 -0.278964 -0.259556 -0.238208 -0.215045 -0.190223 -0.163911 -0.136302 -0.107589 -0.0779942 -0.047745 -0.0170758 0.0137709 0.0445517 0.0750262 0.104954 0.134112 0.162282 0.189258 0.214855 0.238908 0.261255 0.281763 0.300322 0.316819 0.331174 0.343308 0.353177 0.360707 0.365883 0.368669 0.36904 0.366991 0.362518 0.355633 0.346338 0.334686 0.320698 0.304442 0.285985 0.265429 0.242871 0.21845 0.192321 0.16465 0.135639 0.105495 0.0744529 0.0427514 0.0106485 -0.0215983 -0.0537276 -0.0854816 -0.11661 -0.146875 -0.176048 -0.203932 -0.230327 -0.25508 -0.278036 -0.299085 -0.318106 -0.33503 -0.349789 -0.36232 -0.372598 -0.380588 -0.386285 -0.389658 -0.390734 -0.389503 -0.385977 -0.380181 -0.372142 -0.361885 -0.349454 -0.33491 -0.318301 -0.299712 -0.279228 -0.256964 -0.233026 -0.20757 -0.180749 -0.152734 -0.123723 -0.0939227 -0.0635541 -0.0328481 -0.00204662 0.0286077 0.0588694 0.088497 0.117257 0.144918 0.17127 0.196116 0.219265 0.240557 0.25984 0.276987 0.291873 0.304417 0.314529 0.322139 0.327205 0.329688 0.329561 0.326811 0.321458 0.313498 0.302984 0.289958 0.274497 0.256677 0.236618 0.214448 0.190312 0.164392 0.136876 0.107983 0.0779372 0.0469907 0.015395 -0.0165864 -0.0486894 -0.0806529 -0.112221 -0.143151 -0.173218 -0.202201 -0.229921 -0.256198 -0.280895 -0.303873 -0.325038 -0.344303 -0.36159 -0.37686 -0.390067 -0.40119 -0.410197 -0.417101 -0.421876 -0.424535 -0.425079 -0.42352 -0.419856 -0.414111 -0.406307 -0.396445 -0.384573 -0.370712 -0.354913 -0.337217 -0.317705 -0.296448 -0.273535 -0.24909 -0.223237 -0.196123 -0.167917 -0.138811 -0.108998 -0.0787023 -0.048155 -0.0175968 0.0127248 0.0425581 0.0716543 0.0997629 0.126651 0.152088 0.17586 0.197767;
#A 1000 0.217634 0.235292 0.250599 0.263436 0.273697 0.281292 0.286159 0.288264 0.287559 0.284057 0.277763 0.268717 0.256967 0.242602 0.225721 0.206442 0.184925 0.161335 0.13587 0.108741 0.0801893 0.0504574 0.0198097 -0.0114864 -0.0431598 -0.0749406 -0.106566;
#X coords 0 1 1026 -1 200 140 1;
#X restore 432 529 graph;
#X obj 155 430 tgl 15 0 empty toggle empty 0 -6 0 8 #fcfcfc #000000 #000000 0 1;
#X obj 155 479 tabwrite~ \$0-wavetable;
#X obj 155 451 metro 100;
#X text 425 147 Ring modulation is one of the fundamental synthesis techniques in analogue electronic music. The sound of analogue ring modulators differs from their digital counterparts due to component imperfections and nonlinearities. In classic diode-based ring modulators \, the nonlinear voltageâ€“current characteristics of the diodes introduce distortion \, imperfect carrier suppression \, and additional intermodulation products beyond those produced by ideal linear multiplication. These nonlinear effects can be approximated in the digital domain by applying waveshaping functions to the signals \, such as the "tanh"-function in an [expr~]-object. Furthermore \, a slight offset can be added to the signal.;
#X obj 141 34 hsl 162 19 50 1000 0 0 empty empty Carrier -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 378 59 hsl 162 19 1 1000 0 0 empty empty Modulator -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 570 15 declare -path abs;
#X obj 62 383 xfade~;
#X msg 138 67 \$1;
#X msg 375 92 \$1;
#X obj 254 344 *~;
#N canvas 43 109 1372 627 further 0;
#X obj 52 150 osc~;
#X obj 54 263 *~;
#X obj 331 147 osc~;
#X obj 332 217 expr~ tanh($v1);
#X floatatom 50 109 5 0 0 0 - - - 0;
#X floatatom 329 108 5 0 0 0 - - - 0;
#X obj 53 186 expr~ tanh($v1 * $v2);
#X floatatom 196 119 5 0 0 0 - - - 0;
#X obj 811 167 osc~;
#X obj 811 304 *~;
#X obj 1033 173 osc~;
#X floatatom 811 128 5 0 0 0 - - - 0;
#X floatatom 1033 134 5 0 0 0 - - - 0;
#X obj 811 328 output~;
#X msg 811 88 250;
#X msg 851 88 100;
#X msg 1033 94 120;
#X msg 1067 94 400;
#X msg 1102 94 378;
#X msg 328 59 120;
#X msg 362 59 400;
#X msg 397 59 378;
#X msg 51 82 250;
#X msg 91 82 100;
#X msg 179 88 1;
#X msg 212 87 2;
#X obj 331 195 +~ 0.1;
#X obj 331 171 *~ 0.99;
#X obj 1032 222 expr~ if($v1 >0 \, tanh($v1 * 1) \, tanh($v1 * 0.8)), f 16;
#X obj 811 210 expr~ if($v1 >0 \, tanh($v1 * 1) \, tanh($v1 * 0.81)), f 16;
#X obj 179 55 loadbang;
#X text 238 118 "Drive";
#X text 53 53 Carrier;
#X text 322 31 Modulator;
#X obj 55 325 output~;
#X text 389 190 Offset is added here to the Modulator;
#X text 809 28 Non-Linear Behavior in the Positive and Negative parts of the "Voltage";
#X connect 0 0 6 0;
#X connect 1 0 34 0;
#X connect 2 0 27 0;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 7 0 6 1;
#X connect 8 0 29 0;
#X connect 9 0 13 0;
#X connect 10 0 28 0;
#X connect 11 0 8 0;
#X connect 12 0 10 0;
#X connect 14 0 11 0;
#X connect 15 0 11 0;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 12 0;
#X connect 19 0 5 0;
#X connect 20 0 5 0;
#X connect 21 0 5 0;
#X connect 22 0 4 0;
#X connect 23 0 4 0;
#X connect 24 0 7 0;
#X connect 25 0 7 0;
#X connect 26 0 3 0;
#X connect 27 0 26 0;
#X connect 28 0 9 1;
#X connect 29 0 9 0;
#X connect 30 0 24 0;
#X restore 428 369 pd further nonlinearities;
#X text 155 387 Compare Analogue - Digital;
#X obj 61 270 expr~ tanh($v1), f 9;
#X obj 63 638 output~;
#N canvas 689 322 442 383 switch 1;
#X obj 31 74 inlet~;
#X text 109 50 input1;
#X obj 112 208 line~;
#X obj 200 151 line~;
#X obj 96 236 *~;
#X obj 183 239 *~;
#X obj 112 137 - 1;
#X obj 110 160 abs;
#X msg 111 180 \$1 30;
#X msg 200 123 \$1 30;
#X obj 167 267 +~;
#X obj 114 73 inlet~;
#X text 31 51 input2;
#X obj 199 70 inlet;
#X text 198 49 toggle;
#X obj 167 294 outlet~;
#X obj 268 53 loadbang;
#X msg 268 85 0;
#X connect 0 0 4 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 10 0;
#X connect 5 0 10 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 9 0 3 0;
#X connect 10 0 15 0;
#X connect 11 0 5 0;
#X connect 13 0 9 0;
#X connect 13 0 6 0;
#X connect 16 0 17 0;
#X connect 17 0 9 0;
#X connect 17 0 6 0;
#X restore 61 212 pd switch;
#X obj 121 191 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 92 168 adc~ 1;
#X connect 0 0 37 0;
#X connect 1 0 29 0;
#X connect 2 0 3 0;
#X connect 2 0 32 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 5 0;
#X connect 10 0 5 0;
#X connect 19 0 18 1;
#X connect 20 0 19 0;
#X connect 22 0 24 0;
#X connect 24 0 23 0;
#X connect 26 0 30 0;
#X connect 27 0 31 0;
#X connect 29 0 23 0;
#X connect 29 0 18 0;
#X connect 29 0 36 0;
#X connect 30 0 4 0;
#X connect 31 0 5 0;
#X connect 32 0 29 1;
#X connect 35 0 1 0;
#X connect 37 0 35 0;
#X connect 37 0 32 0;
#X connect 38 0 37 2;
#X connect 39 0 37 1;
